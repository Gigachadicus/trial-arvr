
import matplotlib.pyplot as plt
from mpl_toolkits.mplot3d import Axes3D
import json

model_ = [[0.41722776800653844, 0.034737584437906276, 0.06995719251945581], [0.45835807792789574, 0.0044146737352703915, 0.09011930616409294], [0.48615826517627553, 0.0019196352152064816, 0.09000801397608581], [0.5109419971882174, 0.0, 0.08995901182317721], [0.3634980709637456, 0.011137244659952878, 0.0919083293212409], [0.33294932316296916, 0.012037700593899012, 0.09201591670938095], [0.30349688711379325, 0.012785325001214789, 0.09179832146385436], [0.5551619887456443, 0.00476076254194718, 0.3432553883782453], [0.2707014644446229, 0.017743410921432296, 0.34994415755160346], [0.4882276404508745, 0.05524570692276409, 0.17528366479395618], [0.3771427753611368, 0.06144603625655776, 0.17622996947467198], [0.80987425345894, 0.09821367903994918, 0.537639716956254], [0.13944633894402253, 0.10812689371803955, 0.546362520051303], [1.0, 0.22493352937527458, 0.48360535908686264], [0.0, 0.24684509422560957, 0.41612228131597556], [0.9100686716342048, 0.23000822158340048, 0.3082357923333217], [0.10267925252936767, 0.20530018927855254, 0.06246001131643469], [0.9103112775047111, 0.2384933284737299, 0.27652725002560635], [0.12120386424186777, 0.19947202554665666, 0.0], [0.8842772776675599, 0.22308308503810942, 0.2643982292340966], [0.1234043383932266, 0.1866097135121283, 0.014105309232605785], [0.8684435624546156, 0.2205231905711685, 0.29620862883949095], [0.13800494604728897, 0.1902123437467341, 0.05569549133512763], [0.7628060745397506, 0.4404497064310686, 0.7321697337017024], [0.30141320003812777, 0.4518746359413915, 0.794006835405152], [0.8198545809852021, 0.6861423810493208, 0.6881910640375398], [0.3710731822136827, 0.6931571733802429, 0.751391947338394], [0.8671760648883166, 0.9202324275836308, 0.9888333133232976], [0.4423117699418274, 0.9293500311745398, 0.9252458573113126], [0.8775343351223548, 0.9534074877635647, 1.0], [0.45215620483272007, 0.9633705709521034, 0.9290667656062286], [0.8290655449919951, 0.9996495762621589, 0.6559081789557636], [0.5030504978700427, 1.0, 0.5564742402671882]]
model_coordinates = [model_[i]  for i in range(len(model_)) if i not in [1, 2, 3, 4, 5, 6, 7, 8, 17, 18, 19, 20, 21, 22, 27, 28]]



def plot_coordinates(coordinates):
    fig = plt.figure()
    ax = fig.add_subplot(111, projection='3d')

    x_coords = [coord[0] for coord in coordinates]
    y_coords = [coord[1] for coord in coordinates]
    z_coords = [coord[2] for coord in coordinates]

    ax.scatter(x_coords, y_coords, z_coords, c='r', marker='o')

    ax.set_xlabel('X Coordinate')
    ax.set_ylabel('Y Coordinate')
    ax.set_zlabel('Z Coordinate')

    plt.show()

# Example usage
plot_coordinates(model_coordinates)

# import numpy as np

# def calculate_similarity(human_coords, model_coords, threshold=25):
#     # Filter out the coordinates based on the provided indices
#     filtered_human_coords = [human_coords[i] for i in range(len(human_coords)) if i not in [1, 2, 3, 4, 5, 6, 7, 8, 17, 18, 19, 20, 21, 22, 27, 28]]
#     filtered_model_coords = [model_coords[i] for i in range(len(model_coords)) if i not in [0, 1, 2, 4, 9, 10, 11, 12, 13, 14, 15, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 32, 33, 34, 35, 36, 37, 38, 39, 40, 41, 42, 43, 44, 45, 46, 47, 48, 49, 50, 60, 62, 63]]
    
#     # Ensure both lists have the same length by extending the shorter one with None
#     len_human = len(filtered_human_coords)
#     len_model = len(filtered_model_coords)

#     if len_human < len_model:
#         filtered_human_coords.extend([None] * (len_model - len_human))
#     elif len_model < len_human:
#         filtered_model_coords.extend([None] * (len_human - len_model))

#     count_exceeding_threshold = 0
#     total_points = len(filtered_human_coords)
#     correspondences = [(0, 16), (1, 19), (2, 17), (3, 13), (4, 15), (5, 5), (6, 9), (7, 4), (8, 14), (9, 10), (10, 8), (11, 1), (12, 6), (13, 0), (14, 7), (15, 2), (16, 3), (17, 12), (18, 18), (19, 11)]
#     for i in range(len(correspondences)):
#         if filtered_human_coords[i] is not None and filtered_model_coords[i] is not None:
#             x = correspondences[i][0]
#             y = correspondences[i][1]
#             distance = ((filtered_human_coords[x][0] - filtered_model_coords[y][0])**2+ (filtered_human_coords[x][1] - filtered_model_coords[y][1])**2+(filtered_human_coords[x][2] - filtered_model_coords[y][2])**2)**0.5 
#             if distance < 3:
#                 count_exceeding_threshold += 1

#     ratio_exceeding_threshold = (count_exceeding_threshold / total_points) 
#     return ratio_exceeding_threshold

# model =  [[0.5000000810210724, 0.5190791872637089, 0.1160851764399512], [0.5000000810210735, 0.6941413035480569, 0.1478890940449289], [0.5000000810210743, 0.7892814931097021, 0.17934763551560315], [0.5000000810210741, 0.9426061247569238, 0.17534420068294], [0.5000000810210683, 1.0, 0.19572857289124107], [0.5286013744495267, 0.9178299805021093, 0.16556092764429559], [0.8445607922495648, 0.8971597952432319, 0.09013477017354107], [0.9196538490990906, 0.7449371801372457, 0.046263475138967204], [0.9918655127226493, 0.5701553891390014, 0.19463964003527706], [0.9880737091738006, 0.552331283442209, 0.24253360606415178], [0.9906484600025164, 0.5199891497567362, 0.28617575740511547], [0.9726018108632825, 0.5035322874305201, 0.29824632136663676], [0.9412514855806239, 0.48674371072124, 0.30754336782913133], [0.9796166874131987, 0.570426050972457, 0.23014003993362206], [0.9470973846872581, 0.5580915047911682, 0.26777280822187277], [0.9223577937395763, 0.5433996006559325, 0.291521465812541], [1.0, 0.5473870880868027, 0.22203419022384685], [0.9959255907695361, 0.5152716025876013, 0.2528104226784586], [0.960723850509639, 0.49679826009905204, 0.25848321012771786], [0.9279412393402535, 0.4788276108581083, 0.2662928801907106], [0.9990083417158474, 0.5453734474787971, 0.2011505012914904], [0.9971554906984996, 0.5137790144413003, 0.21634908221251103], [0.9582685080868375, 0.4970199831766811, 0.22369330009893243], [0.9346905105922195, 0.48096275566532115, 0.23092416243084912], [0.9957049091322175, 0.5447517338082585, 0.18018672819141934], [0.9890673596181386, 0.509132289945022, 0.1840272445798765], [0.9587252588766205, 0.49121103293303786, 0.1903581978994564], [0.9319196661593335, 0.47824288260041475, 0.195718016548702], [0.4713987855650122, 0.9178299805703762, 0.16556094119672643], [0.15543938846811634, 0.8971597101386959, 0.09013479145388083], [0.0803461958096472, 0.7449370493887755, 0.04626341249499056], [0.008134396300422056, 0.5701553071101493, 0.19463943987529858], [0.011926261642088426, 0.5523312246849937, 0.24253343776324504], [0.009351599748334778, 0.5199890995368646, 0.28617552749401004], [0.027398130934974122, 0.5035322659611473, 0.2982460046055382], [0.05874834252548245, 0.4867437197506691, 0.307543008339862], [0.02038333979891054, 0.5704259504537458, 0.23013986309845647], [0.052902678167109744, 0.5580913679914786, 0.26777262246776146], [0.07764232164697893, 0.543399438496439, 0.2915213581194289], [0.0, 0.5473869375863296, 0.22203404089894518], [0.004074364933513928, 0.5152715516768331, 0.2528101523580442], [0.03927613245943023, 0.4967981943981345, 0.25848294709481134], [0.07205863152220923, 0.4788275733923875, 0.2662925770774014], [0.00099158982272231, 0.5453733392920465, 0.20115033694345286], [0.002844377298746251, 0.5137789246101672, 0.2163488813877182], [0.041731156475281944, 0.4970199415901783, 0.22369306492118798], [0.06530912460261999, 0.4809627434572891, 0.23092397261671369], [0.004295021768240173, 0.5447515824365857, 0.18018661428710522], [0.01093258351510614, 0.509132162654557, 0.18402709682841897], [0.0412746496782126, 0.4912108886972441, 0.19035801214470574], [0.06808019382296601, 0.4782428002435273, 0.19571782964129156], [0.7114037077738008, 0.5264027718498063, 0.1274534518835721], [0.7447135991163005, 0.3316717718285721, 0.11271993198617539], [0.813726280137307, 0.04789686360003071, 0.0], [0.8784398419681824, 0.0, 0.13017868669960694], [0.2885964305467782, 0.5264027718328789, 0.1274534523665645], [0.255286529146378, 0.33167177173662105, 0.11271993292452707], [0.18627391131551585, 0.04789692611224405, 2.3560654234565847e-08], [0.12156032496982228, 5.8158271279560604e-08, 0.1301786893340355], [0.8137265448628598, 0.04789698920485581, 3.970542243183425e-07], [0.780735636140061, 0.25693923050010986, 1.0], [0.18627361717928492, 0.04789698920485581, 3.970542243183425e-07], [0.21926452590208378, 0.25693923050010986, 1.0], [0.5695722655969663, 0.8252605272652425, 0.31845032238281423]]


# human =  [[0.4077943351348609, 0.041337980699089116, 0.0], [0.4584109860910292, 0.007439357163084376, 0.013986236102290085], [0.48931523018882284, 0.004567373854666432, 0.01395939737557476], [0.5181141235457994, 0.001970515599579488, 0.013808351518246659], [0.3557012271572971, 0.012905660468977304, 0.0227067417633196], [0.32341630331526594, 0.012157398678825877, 0.02297707085049359], [0.2936119672177122, 0.011275409338183539, 0.02266984718292541], [0.5821293158337169, 0.0, 0.2438139162196204], [0.26864471162101455, 0.01008692539089719, 0.2902690128106028], [0.4865313477333449, 0.061231795450868494, 0.09785295734334609], [0.36553873433717615, 0.06882844181662436, 0.11112890342233296], [0.8664520351824051, 0.11435005044511107, 0.467882955688638], [0.1336257018541923, 0.10524294767194323, 0.5069156879778177], [1.0, 0.2654623480383793, 0.5334864261926], [0.024345960645269886, 0.257422196334447, 0.6003917656567215], [0.9617458338934464, 0.3967215533606862, 0.32314794407724784], [0.033456719467535194, 0.3854815968598001, 0.3055731899012598], [0.9944233789709508, 0.4436827954912599, 0.2597982504479016], [0.0, 0.434849714181157, 0.22241141867845], [0.9340678408166346, 0.4382231137269634, 0.20195614787847146], [0.05132579641238656, 0.42925351830094777, 0.160035859867726], [0.90182544820841, 0.41844710723608686, 0.29009920758485996], [0.08448403189973737, 0.4103425058606161, 0.2681627442133417], [0.7371399188484379, 0.4088643570582433, 0.739078439178244], [0.2464405102020567, 0.4085192643820435, 0.7961016268325406], [0.738495123586308, 0.6758967277886457, 0.6908419416064205], [0.25390004033907126, 0.6661188076722478, 0.6683457486139219], [0.7354796700429068, 0.9170710405333254, 0.9898867932798048], [0.2763033950803389, 0.9180076575921382, 0.869602598557422], [0.7486494829913058, 0.9534761658713827, 1.0], [0.286138934233975, 0.9586527767324325, 0.8753711130137866], [0.6415853566602027, 1.0, 0.6376156232458603], [0.33430495517847564, 0.9918034143758524, 0.4812386550899056]]


# print(calculate_similarity(human,model))